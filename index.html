<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ScriptBox - Tax Conversation Toolkit (Prototype)</title>
  <style>
    :root{
      /* Blue Gradient Version */
      --grad-1: #E3F2FD; /* light */
      --grad-2: #64B5F6; /* mid */
      --grad-3: #1976D2; /* dark */
      --accent: #42A5F5;
      --text-primary: #0D2540;
      --text-secondary: #5F6A7A;
      --card-bg: #ffffff;
      --muted-bg: #F6FAFF;
      --divider: #E7ECF3;
      --shadow: 0 10px 20px rgba(13,39,65,0.08);
      --radius-card: 16px;
      --radius-pill: 30px;
      --gap: 16px;
      font-family: "Inter", "Prompt", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    html,body{
      height:100%;
      margin:0;
      background: linear-gradient(180deg, var(--grad-1) 0%, #ffffff 35%);
      color:var(--text-primary);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .app{
      max-width:420px;
      margin:0 auto;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      background:transparent;
    }

    header.app-header{
      display:flex;
      align-items:center;
      gap:12px;
      padding:22px 20px;
      background:linear-gradient(90deg,var(--grad-1), var(--grad-2));
      border-bottom-left-radius:22px;
      border-bottom-right-radius:22px;
      color:#fff;
      box-shadow: 0 6px 18px rgba(25,118,210,0.08);
    }
    header .logo{
      width:44px;height:44px;border-radius:10px;
      display:inline-flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.12);
      border:1px solid rgba(255,255,255,0.08);
      font-weight:700;
    }
    header h1{font-size:18px;margin:0;line-height:1;}
    header p{margin:0;font-size:12px;opacity:0.95}

    main{
      padding:18px 16px 120px;
      flex:1 1 auto;
    }

    .search-row{
      display:flex;gap:10px;align-items:center;margin-bottom:14px;
    }
    .search-input{
      flex:1;
      background:var(--card-bg);
      padding:12px 14px;border-radius:12px;border:1px solid var(--divider);
      box-shadow:var(--shadow);
      font-size:14px;
    }
    .persona-filters{
      display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;
    }
    .persona-chip{
      padding:8px 12px;border-radius:20px;background:var(--muted-bg);border:1px solid var(--divider);
      cursor:pointer;font-weight:700;color:var(--grad-3);
    }
    .persona-chip.active{
      background:linear-gradient(90deg,var(--grad-2),var(--grad-3));
      color:#fff;border:1px solid rgba(255,255,255,0.06);
      box-shadow:0 8px 18px rgba(25,118,210,0.12);
    }

    .modes{ display:flex; flex-direction:column; gap:12px; margin-bottom:18px; }
    .mode-card{ display:flex; gap:12px; align-items:flex-start; background:var(--card-bg); padding:16px; border-radius:var(--radius-card); box-shadow:var(--shadow); border:1px solid var(--divider); cursor:pointer; transition:transform .18s ease, box-shadow .18s ease; }
    .mode-card:hover{ transform: translateY(-3px); box-shadow:0 16px 30px rgba(13,39,65,0.08); }
    .mode-icon{ min-width:46px;height:46px;border-radius:10px; display:flex;align-items:center;justify-content:center; background:linear-gradient(180deg,var(--grad-1), #ffffff); border:1px solid var(--divider); color:var(--grad-3); font-size:20px; }
    .mode-body h3{ margin:0; font-size:16px; color:var(--text-primary); }
    .mode-body p{ margin:6px 0 0; font-size:13px; color:var(--text-secondary); line-height:1.4; }

    .section-title{ margin:18px 4px 8px; font-weight:600; font-size:18px; }

    .quick-start{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; }
    .chip{ display:inline-flex; align-items:center; gap:10px; padding:12px; background:var(--muted-bg); border-radius:var(--radius-pill); color:var(--grad-3); font-weight:600; font-size:14px; border:1px solid var(--divider); cursor:pointer; }

    .scenarios{ margin-top:18px; }
    .sc-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:10px; }
    .sc-card{ background:var(--card-bg); padding:12px; border-radius:12px; border:1px solid var(--divider); color:var(--text-primary); font-size:14px; box-shadow: 0 6px 14px rgba(13,39,65,0.04); cursor:pointer; }

    /* result list (search or persona) */
    .results{
      margin-top:18px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .result-item{
      background:var(--card-bg);
      padding:12px;border-radius:12px;border:1px solid var(--divider);
      box-shadow:0 6px 14px rgba(13,39,65,0.04);
    }
    .result-item h4{margin:0 0 6px 0;}
    .tag{ display:inline-block;padding:6px 8px;border-radius:10px;background:var(--muted-bg);font-size:12px;margin-right:6px;color:var(--grad-3); }

    /* mode panel */
    .mode-panel{ position:fixed; top:0; right:-100%; width:100%; max-width:420px; height:100%; background:linear-gradient(180deg,#ffffff 0%, #F7FBFF 30%); box-shadow:-20px 0 40px rgba(13,39,65,0.08); transition:right .28s cubic-bezier(.2,.9,.2,1); z-index:90; overflow:auto; padding:20px;}
    .mode-panel.open{ right:0; }
    .panel-close{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px; }
    .panel-close button{ background:var(--grad-3); color:#fff; border:0; padding:8px 12px; border-radius:10px; cursor:pointer; }
    .script-block{ background:#fff; border-radius:12px; padding:14px; margin:8px 0; border:1px solid var(--divider); box-shadow:0 8px 16px rgba(13,39,65,0.04); }
    .script-block p{ margin:0; color:var(--text-secondary); line-height:1.5; }

    .bottom-nav{ position:fixed; left:0; right:0; bottom:0; display:flex; justify-content:space-around; align-items:center; background:rgba(255,255,255,0.98); padding:8px 8px; border-top:1px solid var(--divider); box-shadow:0 -6px 20px rgba(13,39,65,0.03); z-index:100; }
    .nav-item{ display:flex; flex-direction:column; align-items:center; gap:6px; color:var(--grad-3); font-size:12px; cursor:pointer; }
    .nav-item.active{ color:var(--grad-3); font-weight:700; }

    .sheet{ position:fixed; left:0; right:0; bottom:-100%; background:linear-gradient(180deg,#ffffff 0%, #F7FBFF 10%); border-top-left-radius:18px; border-top-right-radius:18px; box-shadow:0 -18px 40px rgba(13,39,65,0.12); padding:18px; transition: bottom .26s cubic-bezier(.2,.9,.2,1); z-index:120; }
    .sheet.open{ bottom:0; }
    .sheet .sheet-row{ display:flex; gap:10px; flex-wrap:wrap; }
    .sheet .sheet-action{ padding:12px 14px; border-radius:12px; background:var(--muted-bg); border:1px solid var(--divider); cursor:pointer; font-weight:600; color:var(--grad-3); }

    @media(min-width:600px){ main{ padding:28px; } }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="ScriptBox Tax Conversation Toolkit">
    <header class="app-header" role="banner">
      <div class="logo" aria-hidden="true">
        <!-- Local mockup image path (use this local path) -->
        <img src="/mnt/data/A_mockup_of_a_mobile_app_interface_named_%22ScriptBo.png" alt="ScriptBox" style="width:32px;height:32px;object-fit:cover;border-radius:6px;">
      </div>
      <div>
        <h1>ScriptBox</h1>
        <p>Tax Conversation Toolkit</p>
      </div>
      <div style="margin-left:auto;">
        <button aria-label="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤" style="background:transparent;border:0;color:#fff;font-weight:700;cursor:pointer">EN/TH</button>
      </div>
    </header>

    <main>
      <!-- Search + persona filters -->
      <div class="search-row">
        <input id="searchInput" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥, ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 10 ‡∏õ‡∏µ, ‡∏†‡∏≤‡∏©‡∏µ, ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à)" />
        <button id="clearSearch" title="‡∏•‡πâ‡∏≤‡∏á" style="border:0;background:var(--grad-3);color:#fff;padding:10px 12px;border-radius:10px;cursor:pointer">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
      </div>

      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
        <div style="font-weight:700;">Persona</div>
        <div style="font-size:13px;color:var(--text-secondary);">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>
      </div>
      <div class="persona-filters" role="toolbar" aria-label="Persona filters">
        <div class="persona-chip" data-persona="D">D - ‡πÄ‡∏õ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</div>
        <div class="persona-chip" data-persona="I">I - ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏î‡∏≤‡∏£‡∏≤</div>
        <div class="persona-chip" data-persona="S">S - ‡∏ñ‡∏ô‡∏≠‡∏°‡∏à‡∏¥‡∏ï</div>
        <div class="persona-chip" data-persona="C">C - ‡∏Ñ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</div>
        <div class="persona-chip" data-persona="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
      </div>

      <!-- Modes -->
      <section class="modes" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î">
        <div class="mode-card" data-mode="minimal" tabindex="0" role="button" aria-pressed="false">
          <div class="mode-icon">üìò</div>
          <div class="mode-body">
            <h3>Minimal Pro Banking</h3>
            <p>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‚Äî ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</p>
          </div>
        </div>

        <div class="mode-card" data-mode="conversation" tabindex="0" role="button" aria-pressed="false">
          <div class="mode-icon">üí¨</div>
          <div class="mode-body">
            <h3>Conversation Studio</h3>
            <p>‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó ‚Äî ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏û‡∏π‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
          </div>
        </div>

        <div class="mode-card" data-mode="library" tabindex="0" role="button" aria-pressed="false">
          <div class="mode-icon">üóÇÔ∏è</div>
          <div class="mode-body">
            <h3>Card Library</h3>
            <p>‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏´‡∏£‡∏∑‡∏≠ persona ‚Äî ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°</p>
          </div>
        </div>
      </section>

      <!-- Quick Start -->
      <h2 class="section-title">‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ?</h2>
      <div class="quick-start" role="list">
        <div class="chip" data-action="hook" role="button" tabindex="0">üòä ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤ (Hook)</div>
        <div class="chip" data-action="objection" role="button" tabindex="0">üëç ‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï</div>
        <div class="chip" data-action="tax" role="button" tabindex="0">üìò ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ</div>
        <div class="chip" data-action="wow" role="button" tabindex="0">‚ú® ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö WOW ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
      </div>

      <!-- Frequently encountered scenarios -->
      <div class="scenarios" aria-label="‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢">
        <h3 class="section-title" style="margin-top:22px">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</h3>
        <div class="sc-grid">
          <div class="sc-card" data-scenario="unsure" tabindex="0">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à"</div>
          <div class="sc-card" data-scenario="longterm" tabindex="0">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "10 ‡∏õ‡∏µ‡∏ô‡∏≤‡∏ô‡πÑ‡∏õ"</div>
          <div class="sc-card" data-scenario="think" tabindex="0">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Å‡πà‡∏≠‡∏ô"</div>
          <div class="sc-card" data-scenario="taxfull" tabindex="0">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß"</div>
        </div>
      </div>

      <!-- Results area (search & persona filtered) -->
      <div id="results" class="results" aria-live="polite"></div>
    </main>

    <!-- Slide-in panel for mode details -->
    <aside id="modePanel" class="mode-panel" aria-hidden="true" role="dialog" aria-label="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏´‡∏°‡∏î">
      <div class="panel-close">
        <div>
          <strong id="panelTitle">Mode</strong>
          <div style="font-size:13px;color:var(--text-secondary);">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</div>
        </div>
        <div>
          <button id="closePanel">‡∏õ‡∏¥‡∏î</button>
        </div>
      </div>

      <div id="panelContent">
        <!-- Dynamic content injected by JS -->
      </div>
    </aside>

    <!-- Quick Action bottom sheet -->
    <div id="sheet" class="sheet" aria-hidden="true" role="dialog" aria-label="Quick Actions">
      <div style="display:flex;justify-content:center;align-items:center;margin-bottom:12px;">
        <div style="width:40px;height:4px;background:var(--divider);border-radius:4px;"></div>
      </div>
      <div style="font-weight:700;margin-bottom:8px;">Quick Actions</div>
      <div class="sheet-row">
        <div class="sheet-action" data-action="hook">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤ (Hook)</div>
        <div class="sheet-action" data-action="objection">‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á</div>
        <div class="sheet-action" data-action="tax">‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô</div>
        <div class="sheet-action" data-action="wow">‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö WOW</div>
      </div>
      <div style="height:24px"></div>
    </div>

    <!-- bottom nav -->
    <nav class="bottom-nav" role="navigation" aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏•‡πà‡∏≤‡∏á">
      <div class="nav-item active" data-nav="guide">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M6 2h9a2 2 0 012 2v15" stroke="#1976D2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠
      </div>
      <div class="nav-item" data-nav="contact">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 12a4 4 0 100-8 4 4 0 000 8zM3 21v-1a4 4 0 014-4h10a4 4 0 014 4v1" stroke="#1976D2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
      </div>
      <div class="nav-item" data-nav="version">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="14" rx="2" stroke="#1976D2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô
      </div>
    </nav>
  </div>

  <script>
    (function(){

      // ---------- Data: expanded scripts + persona mapping ----------
      // persona: D / I / S / C
      const data = [
        { id:1, title:'Hook - ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏µ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô', text:'‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞ ‡∏Ñ‡∏∏‡∏ì [‡∏ä‡∏∑‡πà‡∏≠]... ‡∏ä‡πà‡∏ß‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏õ‡∏µ‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ä‡πá‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö?', personas:['I','S'] , tags:['hook','start'] },
        { id:2, title:'‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á - 10 ‡∏õ‡∏µ‡∏ô‡∏≤‡∏ô‡πÑ‡∏õ', text:'‡∏ú‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏•‡∏≠‡∏á‡∏°‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô: ‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô 10 ‡∏õ‡∏µ? ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡πâ‡∏ô‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô', personas:['C','D'], tags:['objection','longterm'] },
        { id:3, title:'‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á - ‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß', text:'‡∏ñ‡πâ‡∏≤‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ö‡∏≤‡∏á‡πÅ‡∏ö‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏£‡∏£‡∏¢‡∏≤/‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå', personas:['C','S'], tags:['objection','taxfull'] },
        { id:4, title:'‡∏™‡∏£‡∏∏‡∏õ WOW ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß', text:'‡∏™‡∏£‡∏∏‡∏õ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏õ‡∏µ‡πÅ‡∏£‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30,000 ‡∏ö‡∏≤‡∏ó (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á) ‚Äî ‡∏ñ‡πâ‡∏≤‡∏™‡∏ô‡πÉ‡∏à ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö', personas:['I','D'], tags:['wow','summary'] },
        { id:5, title:'Hook - ‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏∏‡∏¢‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£', text:'‡∏ú‡∏°‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏Å‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏°‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏° ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß ‡πÜ ‡∏î‡∏π‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?', personas:['S','I'], tags:['hook'] },
        { id:6, title:'‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á - ‡∏Ç‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏¥‡∏î‡∏Å‡πà‡∏≠‡∏ô', text:'‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ñ‡πâ‡∏≤‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏ú‡∏°‡∏™‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ó‡∏≤‡∏á‡πÅ‡∏≠‡∏õ/‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ú‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?', personas:['S'], tags:['objection','think'] },
        { id:7, title:'‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)', text:'‡∏ñ‡πâ‡∏≤‡∏•‡∏á‡∏ó‡∏∏‡∏ô 100,000 ‡∏ö‡∏≤‡∏ó ‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏∞‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 100,000 ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ‡∏à‡∏£‡∏¥‡∏á (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á) ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 20% ‡∏Ç‡∏≠‡∏á‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∏‡∏ô', personas:['C','D'], tags:['tax','numbers'] },
        { id:8, title:'‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏õ‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡∏ô‡∏∏‡πà‡∏° (Soft close)', text:'‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏û‡∏π‡∏î‡∏°‡∏≤‡∏ú‡∏°‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏´‡πâ‡∏ß‡πà‡∏≤ ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ô‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏¢‡∏•‡∏∂‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö', personas:['I','S'], tags:['close'] },
        { id:9, title:'‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô', text:'‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô ‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß ‡πÄ‡∏£‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ú‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á ‡∏ã‡∏∂‡πà‡∏á‡∏¢‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô', personas:['D','C'], tags:['case','young'] },
        { id:10, title:'‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á', text:'‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à', personas:['S'], tags:['case','stable'] },
        { id:11, title:'‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á - ‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏ô‡πâ‡∏≠‡∏¢', text:'‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ ‡∏ã‡∏∂‡πà‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏±‡πâ‡∏ô ‡πÜ', personas:['C','D'], tags:['objection','return'] },
        { id:12, title:'Hook - ‡πÄ‡∏≠‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏î‡∏π‡∏Å‡∏±‡∏ô', text:'‡∏ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ú‡∏°‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏ú‡∏°‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡πÄ‡∏•‡∏¢ ‚Äî ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô', personas:['C','I'], tags:['hook','calculate'] },
        { id:13, title:'‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á', text:'‡∏ú‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏∑‡∏≠ ‡πÄ‡∏£‡∏≤‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ', personas:['S','C'], tags:['case','cautious'] },
        { id:14, title:'‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ö‡∏ö D (‡πÄ‡∏ô‡πâ‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)', text:'‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô ‡πÜ: ‡∏•‡∏á‡∏ó‡∏∏‡∏ô X ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô Y, ‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå Z ‚Äî ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ñ‡∏∑‡∏≠... ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏∑‡∏≠...', personas:['D'], tags:['persona','D'] },
        { id:15, title:'‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ö‡∏ö I (‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤)', text:'‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏Ñ‡∏™‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏±‡πâ‡∏ô ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó I ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à', personas:['I'], tags:['persona','I'] },
        { id:16, title:'‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ö‡∏ö C (‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô / ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)', text:'‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì, ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÅ‡∏•‡∏∞‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Å‡∏é‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô C ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à', personas:['C'], tags:['persona','C'] },
        { id:17, title:'‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ö‡∏ö S (‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå)', text:'‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô ‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏¢', personas:['S'], tags:['persona','S'] }
      ];

      // ---------- Helpers: fuzzy / scoring ----------
      // simple fuzzy score: checks subsequence and position & token matches
      function fuzzyScore(text, query){
        if(!query) return 1;
        const t = text.toLowerCase();
        const q = query.toLowerCase().trim();
        if(t.includes(q)) return 100 + (q.length); // exact contains high score
        // token match
        const qTokens = q.split(/\s+/).filter(Boolean);
        let score = 0;
        for(const tok of qTokens){
          if(t.includes(tok)) score += 20 + tok.length;
          else {
            // subsequence match (characters appear in order)
            let i = 0, j = 0;
            while(i < t.length && j < tok.length){
              if(t[i] === tok[j]) j++;
              i++;
            }
            if(j === tok.length) score += 10; // subsequence partial
          }
        }
        // fuzzy by Levenshtein small threshold for single word
        return score;
      }

      // ---------- UI references ----------
      const searchInput = document.getElementById('searchInput');
      const clearSearch = document.getElementById('clearSearch');
      const resultsEl = document.getElementById('results');
      const personaChips = document.querySelectorAll('.persona-chip');
      const modeCards = document.querySelectorAll('.mode-card');
      const sheet = document.getElementById('sheet');
      const panel = document.getElementById('modePanel');
      const panelTitle = document.getElementById('panelTitle');
      const panelContent = document.getElementById('panelContent');
      const closePanelBtn = document.getElementById('closePanel');

      let selectedPersona = 'all';

      // ---------- Render functions ----------
      function renderResults(query=''){
        const q = query.trim();
        // compute scores
        const scored = data.map(item=>{
          const scoreTitle = fuzzyScore(item.title, q);
          const scoreText = fuzzyScore(item.text, q);
          const score = scoreTitle * 1.2 + scoreText;
          return {...item, score};
        });

        // filter by persona
        const filtered = scored.filter(item=>{
          if(selectedPersona === 'all') return true;
          return item.personas.includes(selectedPersona);
        });

        // if query provided, sort by score desc else prioritize persona relevance and tag 'hook' etc
        const sorted = filtered.sort((a,b)=> b.score - a.score || a.id - b.id);

        // show top 20
        const top = sorted.slice(0, 40);

        // render
        if(top.length === 0){
          resultsEl.innerHTML = `<div style="color:var(--text-secondary);padding:12px">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠ persona ‡∏ô‡∏µ‡πâ</div>`;
          return;
        }

        resultsEl.innerHTML = top.map(item => {
          const personaLabels = item.personas.map(p => `<span class="tag">${p}</span>`).join('');
          // highlight query (simple)
          let snippet = item.text;
          if(q){
            const re = new RegExp(q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'), 'ig');
            snippet = snippet.replace(re, (m)=>`<strong style="background:linear-gradient(90deg,var(--grad-2),var(--grad-3));color:#fff;padding:2px 4px;border-radius:4px">${m}</strong>`);
          }
          return `
            <div class="result-item" data-id="${item.id}">
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <h4>${item.title}</h4>
                <div style="font-size:12px;color:var(--text-secondary)">${item.tags.join(', ')}</div>
              </div>
              <div style="margin-bottom:8px">${personaLabels}</div>
              <p style="color:var(--text-secondary);margin:0 0 8px;">${snippet}</p>
              <div style="display:flex;gap:8px">
                <button onclick='copyText(${JSON.stringify(item.text).replace(/"/g,'&quot;')})' style="padding:8px 10px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--grad-2),var(--grad-3));color:#fff;cursor:pointer">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
                <button onclick='useScript(${JSON.stringify(item.text).replace(/"/g,'&quot;')})' style="padding:8px 10px;border-radius:10px;border:1px solid var(--divider);background:#fff;cursor:pointer">‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏¢</button>
              </div>
            </div>
          `;
        }).join('');
      }

      // ---------- Events ----------
      searchInput.addEventListener('input', (e)=>{
        const q = e.target.value;
        renderResults(q);
      });
      clearSearch.addEventListener('click', ()=>{
        searchInput.value = '';
        renderResults('');
      });

      // persona chip toggle
      personaChips.forEach(chip=>{
        chip.addEventListener('click', ()=>{
          const p = chip.dataset.persona;
          if(p === 'all'){
            selectedPersona = 'all';
            personaChips.forEach(c => c.classList.remove('active'));
            chip.classList.add('active');
          } else {
            selectedPersona = (selectedPersona === p ? 'all' : p);
            personaChips.forEach(c => c.classList.remove('active'));
            if(selectedPersona !== 'all'){
              document.querySelector(`.persona-chip[data-persona="${selectedPersona}"]`).classList.add('active');
            } else {
              document.querySelector('.persona-chip[data-persona="all"]').classList.add('active');
            }
          }
          renderResults(searchInput.value);
        });
      });
      // init persona all active
      document.querySelector('.persona-chip[data-persona="all"]').classList.add('active');

      // mode cards open panel
      modeCards.forEach(card=>{
        card.addEventListener('click', ()=> {
          const mode = card.dataset.mode;
          openPanel(mode);
        });
      });

      // Quick start chips open sheet
      document.querySelectorAll('.chip').forEach(c=>{
        c.addEventListener('click', ()=> {
          sheet.classList.add('open');
          sheet.setAttribute('aria-hidden','false');
        });
      });

      // sheet actions
      document.querySelectorAll('.sheet-action').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const action = btn.dataset.action;
          sheet.classList.remove('open');
          sheet.setAttribute('aria-hidden','true');
          if(action === 'hook') openPanel('conversation');
          else if(action === 'objection') openPanel('library');
          else openPanel('minimal');
        });
      });

      // scenario cards open library filtered
      document.querySelectorAll('.sc-card').forEach(card=>{
        card.addEventListener('click', ()=>{
          openPanel('library');
          // optionally highlight related scripts: we can auto-scroll to ones with matching tags
          const scenario = card.dataset.scenario;
          setTimeout(()=> {
            const el = Array.from(document.querySelectorAll('.script-block')).find(b => b.innerHTML.toLowerCase().includes(scenario));
            if(el) el.scrollIntoView({behavior:'smooth',block:'center'});
          }, 320);
        });
      });

      // panel close
      closePanelBtn.addEventListener('click', ()=> {
        panel.classList.remove('open');
        panel.setAttribute('aria-hidden','true');
      });

      // click outside sheet to close
      document.addEventListener('click', (e)=>{
        if(sheet.classList.contains('open')){
          const rect = sheet.getBoundingClientRect();
          if(e.clientY < rect.top - 10) {
            sheet.classList.remove('open');
            sheet.setAttribute('aria-hidden','true');
          }
        }
      });

      // bottom nav demo
      document.querySelectorAll('.nav-item').forEach(item=>{
        item.addEventListener('click', ()=>{
          document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
          item.classList.add('active');
          if(item.dataset.nav === 'contact') alert('‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡πÄ‡∏ó‡∏£‡∏ô‡∏ô‡∏¥‡πà‡∏á (demo)');
          else if(item.dataset.nav === 'version') alert('‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: prototype');
        });
      });

      // ---------- Panel open implementation ----------
      function openPanel(modeKey){
        let mode = { title:'', desc:'', scripts:[] };
        if(modeKey === 'minimal') mode = {
          title:'Minimal Pro Banking',
          desc:'‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ',
          scripts: data.filter(d=>d.tags.includes('tax') || d.tags.includes('numbers') || d.tags.includes('persona')).slice(0,8)
        };
        if(modeKey === 'conversation') mode = {
          title:'Conversation Studio',
          desc:'‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö bubble ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏´‡πâ‡∏û‡∏π‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤',
          scripts: data.filter(d=>d.tags.includes('hook') || d.tags.includes('objection') || d.tags.includes('close')).slice(0,10)
        };
        if(modeKey === 'library') mode = {
          title:'Card Library',
          desc:'‡∏´‡∏≤‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏ä‡πâ',
          scripts: data.slice(0,50)
        };

        panelTitle.textContent = mode.title;
        panelContent.innerHTML = `<div style="color:var(--text-secondary);margin-bottom:10px">${mode.desc}</div>` +
          mode.scripts.map(s => `
            <div class="script-block" tabindex="0" data-id="${s.id}">
              <strong>${s.title}</strong>
              <div style="margin:8px 0;color:var(--text-secondary)">${s.personas.map(p=>`<span class="tag">${p}</span>`).join('')}</div>
              <p>${s.text}</p>
              <div style="margin-top:10px;display:flex;gap:8px">
                <button onclick="copyText(${JSON.stringify(s.text).replace(/"/g,'&quot;')})" style="padding:8px 10px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--grad-2),var(--grad-3));color:#fff;cursor:pointer">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
                <button onclick="useScript(${JSON.stringify(s.text).replace(/"/g,'&quot;')})" style="padding:8px 10px;border-radius:10px;border:1px solid var(--divider);background:#fff;cursor:pointer">‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏¢</button>
              </div>
            </div>
          `).join('');
        panel.classList.add('open');
        panel.setAttribute('aria-hidden','false');
      }

      // ---------- Copy / Use helpers ----------
      window.copyText = function(text){
        navigator.clipboard?.writeText(text).then(()=> {
          alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢');
        }).catch(()=> {
          // fallback
          const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
          try{ document.execCommand('copy'); alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢'); }catch(e){ alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ'); }
          ta.remove();
        });
      };

      window.useScript = function(text){
        navigator.clipboard?.writeText(text).then(()=> {
          alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚Äî ‡∏ß‡∏≤‡∏á‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏≠‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢');
        }).catch(()=> alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ'));
      };

      // ---------- Init render ----------
      renderResults('');

      // Accessibility: Escape to close panel/sheet
      document.addEventListener('keydown', (e)=> {
        if(e.key === 'Escape'){
          if(panel.classList.contains('open')) { panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); }
          if(sheet.classList.contains('open')) { sheet.classList.remove('open'); sheet.setAttribute('aria-hidden','true'); }
        }
      });

    })();
  </script>
</body>
</html>
